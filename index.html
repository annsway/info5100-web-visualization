<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">


<meta charset="UTF-8">
<script src="https://d3js.org/d3.v7.min.js"></script>

<html>



<body>
<h2> NetID: </h2>

<p>
  <svg id="svg" height=500 width=500>

  <script>
    d3.json('yelp_business.json').then( (data) => {
      console.log(data);

      const margins = {top: 10, right: 10, bottom: 50, left: 50};
      const width = 500;
      const height = 500;

      // Create SVG element
      const svg = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height);

      const chartWidth = width - margins.left - margins.right;
      const chartHeight = height - margins.top - margins.bottom;

      // Labels of row and columns
      const days = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
      const times = ['1a', '2a', '3a', '4a', '5a', '6a', '7a', '8a', '9a', '10a', '11a', '12a', '1p', '2p', '3p', '4p', '5p', '6p', '7p', '8p', '9p', '10p', '11p', '12p'];


      // Build X scales and axis:
      const x = d3.scaleBand()
        .range([ 0, width ])
        .domain(times)
        .padding(0.01);
      svg.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x))

      // Build X scales and axis:
      const y = d3.scaleBand()
        .range([ height, 0 ])
        .domain(days)
        .padding(0.01);
      svg.append("g")
        .call(d3.axisLeft(y));

      // Build color scale
      const myColor = d3.scaleLinear()
        .range(["white", "#69b3a2"])
        .domain([1,100])

      // function here

      svg.selectAll()
          .data(yeartime_data, function(d) {return d.day+':'+d.hours;})
          .join("rect")
          .attr("x", function(d) { return x(d.hours) }) // hours
          .attr("y", function(d) { return y(d.day) }) // days
          .attr("width", x.bandwidth() )
          .attr("height", y.bandwidth() )
          .style("fill", function(d) { return myColor(d.value)} ) //count


    } );


  </script>
</p>

</body>
</html>
